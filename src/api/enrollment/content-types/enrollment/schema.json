{
  "collectionName": "enrollments",
  "info": {
    "singularName": "enrollment",
    "pluralName": "enrollments",
    "displayName": "Enrollment"
  },
  "attributes": {
    "enrollment_date": { "type": "datetime", "required": true },
    "completion_date": { "type": "datetime" },
    "progress_percentage": { "type": "float", "default": 0 },
    "is_active": { "type": "boolean", "default": true },
    "payment_status": {
      "type": "enumeration",
      "enum": ["free", "paid", "refunded"],
      "default": "free"
    },
    "payment_id": { "type": "string" },
    "user": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "plugin::users-permissions.user"
    },
    "course": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::course.course"
    },
    "coupon_usages": {
      "type": "relation",
      "relation": "oneToMany",
      "target": "api::coupon-usage.coupon-usage",
      "mappedBy": "enrollment"
    }
  }
}
